import{K as V,x as w,T as k,f as l,a as o,u as e,w as n,F as g,o as u,Z as $,i as v,d as p,b as s,t as _,g as h,e as q,p as y,A as U,B as A,j as B,n as N}from"./app-ad2e873b.js";import{_ as j}from"./AuthenticatedLayout-0c9febd7.js";import{_ as C}from"./Checkbox-6b3aef60.js";import{_ as c,a as b,b as m}from"./TextInput-c0e933c1.js";import{P as D}from"./PrimaryButton-dbd45aa1.js";import"./ApplicationLogo-70bea4cb.js";const S=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Editar gasto ",-1),z={key:0,class:"bg-red-500 p-4 rounded-lg text-white m-4"},F={class:"text-lg"},M={key:1,class:"bg-green-500 p-4 rounded-lg text-white m-4"},T={class:"text-lg"},E={class:"py-12 bg-gray-300"},I={class:"bg-gray-100 flex items-center justify-center"},P={class:"bg-white rounded-lg shadow-md p-6 w-96"},G={class:"mt-6"},K=["onSubmit"],L={class:"mb-2"},O={class:"mb-2"},Q={class:"mb-2"},Z={class:"mb-2"},H={class:"block my-4"},J={class:"flex items-center"},R=s("span",{class:"ml-2 text-sm text-gray-600"},"Añadir IVA",-1),W={class:"mb-2"},X=["value"],Y=["value"],ee={class:"flex items-center justify-end mt-4"},se={class:"flex items-center justify-end mt-4"},ae=s("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},null,-1),ue={__name:"Update",setup(oe){const{proyecto:f,gasto:i}=V().props;w("cambio"),i.anadir_iva==1?i.anadir_iva=!0:i.anadir_iva=!1;const a=k({id:i.id,factura_id:i.id_factura,nombre:i.nombre,observacion:i.observacion,form:"cambio",etiqueta:i.etiqueta,cantidad:i.cantidad,anadir_iva:i.anadir_iva,quien:i.usuarios_id}),x=()=>{a.post(route("proyecto.cantidad.save",{id:i.id}))};return(d,r)=>(u(),l(g,null,[o(e($),{title:"Dashboard"}),o(j,null,{header:n(()=>[S,o(e(v),{href:d.route("proyecto.show",{id:e(f).id}),class:"font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-8 mt-8"},{default:n(()=>[p("Atrás")]),_:1},8,["href"])]),default:n(()=>[d.$page.props.flash.error?(u(),l("div",z,[s("p",F,_(d.$page.props.flash.error),1)])):h("",!0),d.$page.props.flash.success?(u(),l("div",M,[s("p",T,_(d.$page.props.flash.success),1)])):h("",!0),s("div",E,[s("div",I,[s("div",P,[s("div",G,[s("form",{onSubmit:q(x,["prevent"])},[s("div",L,[o(c,{for:"factura_id",value:"Factura ID"}),o(b,{id:"factura_id",type:"text",class:"mt-1 block w-full",modelValue:e(a).factura_id,"onUpdate:modelValue":r[0]||(r[0]=t=>e(a).factura_id=t),autofocus:"",autocomplete:"factura_id"},null,8,["modelValue"]),o(m,{class:"mt-2",message:e(a).errors.factura_id},null,8,["message"])]),s("div",O,[o(c,{for:"nombre",value:"Nombre"}),o(b,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:e(a).nombre,"onUpdate:modelValue":r[1]||(r[1]=t=>e(a).nombre=t),autofocus:"",autocomplete:"nombre"},null,8,["modelValue"]),o(m,{class:"mt-2",message:e(a).errors.nombre},null,8,["message"])]),s("div",Q,[o(c,{for:"observacion",value:"Observacion"}),y(s("textarea",{name:"observacion",id:"observacion",cols:"35",rows:"10","onUpdate:modelValue":r[2]||(r[2]=t=>e(a).observacion=t)},null,512),[[U,e(a).observacion]]),o(m,{class:"mt-2",message:e(a).errors.observacion},null,8,["message"])]),s("div",Z,[o(c,{for:"cantidad",value:"Cantidad"}),o(b,{id:"cantidad",type:"number",class:"mt-1 block w-full",modelValue:e(a).cantidad,"onUpdate:modelValue":r[3]||(r[3]=t=>e(a).cantidad=t),autofocus:"",autocomplete:"cantidad"},null,8,["modelValue"]),o(m,{class:"mt-2",message:e(a).errors.cantidad},null,8,["message"])]),s("div",H,[s("label",J,[o(C,{name:"anadir_iva",modelValue:e(a).anadir_iva,"onUpdate:modelValue":r[4]||(r[4]=t=>e(a).anadir_iva=t),checked:e(a).anadir_iva},null,8,["modelValue","checked"]),R])]),s("div",W,[o(c,{for:"quien",value:"Quien realiza el movimiento"}),y(s("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":r[5]||(r[5]=t=>e(a).quien=t),multiple:""},[s("option",{value:e(f).user.id},_(e(f).user.name)+" (Administrador) ",9,X),(u(!0),l(g,null,B(e(f).usuarios,t=>(u(),l("option",{key:t.id,value:t.user.id},_(t.user.name),9,Y))),128))],512),[[A,e(a).quien]]),o(m,{class:"mt-2",message:e(a).errors.quien},null,8,["message"])]),s("div",ee,[o(D,{class:N(["ml-4",{"opacity-25":e(a).processing}]),disabled:e(a).processing},{default:n(()=>[p(" Actualizar gasto ")]),_:1},8,["class","disabled"])]),s("div",se,[o(e(v),{href:d.route("proyecto.gasto.delete",{id:e(i).id}),method:"delete",as:"button",class:"inline-block bg-red-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-50 transition duration-300 ease-in-out m-4 mt-8"},{default:n(()=>[p(" Borrar Gasto ")]),_:1},8,["href"])])],40,K)])])]),ae])]),_:1})],64))}};export{ue as default};
