import{K as S,y as B,T as w,f as d,a as t,u as e,w as v,F as g,o as r,Z as E,b as o,t as u,j as F,d as x,g as h,i as f,B as p,e as V,k as y,n as k}from"./app-cb3fb5e5.js";import{_ as T}from"./AuthenticatedLayout-62250f37.js";import{_ as c,b as m,a as $}from"./TextInput-05da0e34.js";import{P as q}from"./PrimaryButton-cbb167af.js";import"./ApplicationLogo-bb3c057a.js";const j={class:"font-semibold text-xl text-gray-800 leading-tight"},A={key:0,class:"bg-red-500 p-4 rounded-lg text-white m-4"},D={class:"text-lg"},N={key:1,class:"bg-green-500 p-4 rounded-lg text-white m-4"},z={class:"text-lg"},P={class:"py-12 bg-gray-300"},M={class:"bg-gray-100 flex items-center justify-center"},Q={class:"bg-white rounded-lg shadow-md p-6 w-96"},K=o("h1",{class:"text-2xl font-bold mb-4"},"Elige una opción",-1),L=o("option",{value:"transferencia"},"Transferencia",-1),O=o("option",{value:"cambio"},"Cambio",-1),R=[L,O],Z={key:0,class:"mt-6"},G=["onSubmit"],H=["value"],I=["value"],J=["value"],W=["value"],X={class:"flex items-center justify-end mt-4"},Y={key:1,class:"mt-6"},ee=["onSubmit"],se=["value"],oe=o("option",{value:"suma"},"Suma",-1),te=o("option",{value:"resta"},"Resta",-1),ae=[oe,te],ne=["value"],ie=["value"],de={class:"flex items-center justify-end mt-4"},re=o("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},null,-1),ge={__name:"Edit",setup(le){const{proyecto:l}=S().props,b=B("transferencia"),n=w({form:"transferencia",from:"",to:"",cantidad:"",quien:""}),i=w({form:"cambio",etiqueta:"",accion:"",cantidad:"",quien:""}),C=()=>{i.post(route("proyecto.save.cantidad",{id:l.id}))},U=()=>{n.post(route("proyecto.save.cantidad",{id:l.id}))};return(_,a)=>(r(),d(g,null,[t(e(E),{title:"Dashboard"}),t(T,null,{header:v(()=>[o("h2",j," Edita Cantidades en "+u(e(l).nombre),1),t(e(F),{href:_.route("proyecto.show",{id:e(l).id}),class:"font-semibold text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-8 mt-8"},{default:v(()=>[x("Atrás")]),_:1},8,["href"])]),default:v(()=>[_.$page.props.flash.error?(r(),d("div",A,[o("p",D,u(_.$page.props.flash.error),1)])):h("",!0),_.$page.props.flash.success?(r(),d("div",N,[o("p",z,u(_.$page.props.flash.success),1)])):h("",!0),o("div",P,[o("div",M,[o("div",Q,[K,f(o("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>b.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200"},R,512),[[p,b.value]]),b.value==="transferencia"?(r(),d("div",Z,[o("form",{onSubmit:V(U,["prevent"])},[o("div",null,[t(c,{for:"cantidad",value:"Desde"}),f(o("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":a[1]||(a[1]=s=>e(n).from=s)},[(r(!0),d(g,null,y(e(l).etiquetas,s=>(r(),d("option",{key:s.id,value:s.id},u(s.etiqueta)+" - "+u(s.cantidad.toFixed(2))+"$ ",9,H))),128))],512),[[p,e(n).from]]),t(m,{class:"mt-2",message:e(n).errors.from},null,8,["message"])]),o("div",null,[t(c,{for:"cantidad",value:"Para"}),f(o("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":a[2]||(a[2]=s=>e(n).to=s)},[(r(!0),d(g,null,y(e(l).etiquetas,s=>(r(),d("option",{key:s.id,value:s.id},u(s.etiqueta)+" - "+u(s.cantidad.toFixed(2))+"$ ",9,I))),128))],512),[[p,e(n).to]]),t(m,{class:"mt-2",message:e(n).errors.to},null,8,["message"])]),o("div",null,[t(c,{for:"cantidad",value:"Cantidad"}),t($,{id:"cantidad",type:"number",class:"mt-1 block w-full",modelValue:e(n).cantidad,"onUpdate:modelValue":a[3]||(a[3]=s=>e(n).cantidad=s),autofocus:"",autocomplete:"cantidad"},null,8,["modelValue"]),t(m,{class:"mt-2",message:e(n).errors.cantidad},null,8,["message"])]),o("div",null,[t(c,{for:"cantidad",value:"Quien realiza el movimiento"}),f(o("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":a[4]||(a[4]=s=>e(n).quien=s)},[o("option",{value:e(l).user.id},u(e(l).user.name)+" (Administrador) ",9,J),(r(!0),d(g,null,y(e(l).usuarios,s=>(r(),d("option",{key:s.id,value:s.user.id},u(s.user.name),9,W))),128))],512),[[p,e(n).quien]]),t(m,{class:"mt-2",message:e(n).errors.quien},null,8,["message"])]),o("div",X,[t(q,{class:k(["ml-4",{"opacity-25":e(n).processing}]),disabled:e(n).processing},{default:v(()=>[x(" Transferir Cantidad! ")]),_:1},8,["class","disabled"])])],40,G)])):b.value==="cambio"?(r(),d("div",Y,[o("form",{onSubmit:V(C,["prevent"])},[o("div",null,[t(c,{for:"cantidad",value:"Etiqueta"}),f(o("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":a[5]||(a[5]=s=>e(i).etiqueta=s)},[(r(!0),d(g,null,y(e(l).etiquetas,s=>(r(),d("option",{key:s.id,value:s.id},u(s.etiqueta)+" - "+u(s.cantidad.toFixed(2))+"$ ",9,se))),128))],512),[[p,e(i).etiqueta]]),t(m,{class:"mt-2",message:e(i).errors.etiqueta},null,8,["message"])]),o("div",null,[t(c,{for:"cantidad",value:"Acción"}),f(o("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":a[6]||(a[6]=s=>e(i).accion=s)},ae,512),[[p,e(i).accion]]),t(m,{class:"mt-2",message:e(i).errors.accion},null,8,["message"])]),o("div",null,[t(c,{for:"cantidad",value:"Cantidad"}),t($,{id:"cantidad",type:"number",class:"mt-1 block w-full",modelValue:e(i).cantidad,"onUpdate:modelValue":a[7]||(a[7]=s=>e(i).cantidad=s),autofocus:"",autocomplete:"cantidad"},null,8,["modelValue"]),t(m,{class:"mt-2",message:e(i).errors.cantidad},null,8,["message"])]),o("div",null,[t(c,{for:"cantidad",value:"Quien realiza el movimiento"}),f(o("select",{class:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-900 focus:outline-none focus:ring focus:ring-indigo-200","onUpdate:modelValue":a[8]||(a[8]=s=>e(i).quien=s)},[o("option",{value:e(l).user.id},u(e(l).user.name)+" (Administrador) ",9,ne),(r(!0),d(g,null,y(e(l).usuarios,s=>(r(),d("option",{key:s.id,value:s.user.id},u(s.user.name),9,ie))),128))],512),[[p,e(i).quien]]),t(m,{class:"mt-2",message:e(i).errors.quien},null,8,["message"])]),o("div",de,[t(q,{class:k(["ml-4",{"opacity-25":e(i).processing}]),disabled:e(i).processing},{default:v(()=>[x(" Transferir Cantidad! ")]),_:1},8,["class","disabled"])])],40,ee)])):h("",!0)])]),re])]),_:1})],64))}};export{ge as default};
