import{_ as v}from"./AuthenticatedLayout-e2d750d4.js";import{K as x,D as w,f as a,a as l,u as e,w as u,F as i,o as n,Z as k,b as t,t as s,j as _,i as m,d as h,g as C,n as F}from"./app-68c43209.js";import"./ApplicationLogo-631b24a3.js";const D={class:"font-semibold text-xl text-gray-800 leading-tight"},A={class:"py-12"},G={class:"max-w-full mx-auto sm:px-6 lg:px-8"},U={class:"flex"},I={class:"bg-white shadow-md rounded-md p-8"},S={class:"text-2xl font-semibold mb-4"},V={class:"text-gray-600 mb-6"},$=["src"],N={class:"m-4 w-1/2"},P=t("h2",{class:"text-xl font-semibold mb-4"},"Gastos",-1),B={class:"m-4 w-1/2"},L=t("h2",{class:"text-xl font-semibold mb-4"},"Gastos por Usuario",-1),T={class:"m-4 mt-8 mb-8"},j=t("h2",{class:"text-xl font-semibold mb-4"},"Gastos por Usuario",-1),E={class:"overflow-x-auto"},z={class:"min-w-full border border-gray-200"},K={class:"bg-gray-100"},M=t("th",{class:"px-4 py-2"},"Factura Id",-1),R=t("th",{class:"px-4 py-2"},"Fecha",-1),Z=t("th",{class:"px-4 py-2"},"Concepto",-1),q=t("th",{class:"px-4 py-2"},"Importe",-1),H=t("th",{class:"px-4 py-2"},"IVA",-1),J=t("th",{class:"px-4 py-2"},"Importe Final",-1),O={class:"px-4 py-2"},Q={class:"px-4 py-2"},W={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2"},tt={class:"px-4 py-2"},et={class:"px-4 py-2"},st={class:"px-4 py-2"},ot={class:"px-4 py-2"},rt={class:"px-4 py-2"},at=t("br",null,null,-1),nt={class:"label"},dt=t("br",null,null,-1),lt=t("hr",null,null,-1),it=t("br",null,null,-1),ct={key:0,class:"m-8"},ut={class:"bg-white shadow-md rounded-md p-8 flex-1 mx-4 mb-4 overflow-auto max-h-50vh"},_t=t("h2",{class:"text-xl font-semibold mb-4"},"Usuarios Asignados",-1),ht={key:0},mt={key:1},pt={class:"bg-white shadow-md rounded-md p-8 flex-1 mx-4 mb-4 overflow-auto max-h-50vh"},xt=t("h2",{class:"text-xl font-semibold mb-4"},"Movimientos",-1),kt={__name:"Show",setup(bt){const{proyecto:o,movimientos:b,usuario:f}=x().props;x().props;const y=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(c,ft)=>{const p=w("GoogleChart");return n(),a(i,null,[l(e(k),{title:"Dashboard"}),l(v,null,{header:u(()=>[t("h2",D,s(e(o).nombre),1)]),default:u(()=>[t("div",A,[t("div",G,[t("div",null,[t("div",U,[t("div",I,[t("h2",S,s(e(o).nombre),1),t("p",V,s(e(o).descripcion),1),t("img",{src:e(o).imagen_url,alt:"Imagen del proyecto",class:"w-full rounded-md h-60 object-cover mb-6"},null,8,$),t("div",N,[P,l(p,{data:e(o).chart,type:"PieChart"},null,8,["data"])]),t("div",B,[L,l(p,{data:e(o).user_chart,type:"ColumnChart"},null,8,["data"])]),t("div",T,[j,t("div",E,[t("table",z,[t("thead",null,[t("tr",K,[M,R,Z,q,H,J,t("th",O,s(e(o).user.name),1),(n(!0),a(i,null,_(e(o).usuarios,(r,d)=>(n(),a("div",null,[t("th",Q,s(r.user.name),1)]))),256))])]),t("tbody",null,[(n(!0),a(i,null,_(e(o).gastos,(r,d)=>(n(),a("tr",{key:d,class:F(d%2===0?"bg-gray-50":"")},[t("td",W,s(r.id_factura),1),t("td",X,s(y(r.created_at)),1),t("td",Y,s(r.nombre),1),t("td",tt,s(r.cantidad),1),t("td",et,s(r.anadir_iva),1),t("td",st,s(r.cantidad_iva),1),t("th",ot,s(e(o).user.id),1),(n(!0),a(i,null,_(e(o).usuarios,(g,yt)=>(n(),a("div",null,[t("th",rt,s(g.user.id),1)]))),256))],2))),128))])])])]),t("div",null,"Presupuesto: "+s(e(o).presupuesto.toFixed(2))+" $",1),at,(n(!0),a(i,null,_(e(o).etiquetas,(r,d)=>(n(),a("div",{key:d,class:"row"},[t("div",nt,s(r.etiqueta)+": "+s(r.cantidad.toFixed(2))+"$ - "+s((r.cantidad/e(o).presupuesto*100).toFixed(2))+"% ",1),dt,lt]))),128)),it,t("div",null,"Total Gastado: "+s(e(o).gastado.toFixed(2))+" $",1),t("div",null,"Total Restante: "+s(e(o).restante.toFixed(2))+" $",1),e(f).is_admin?(n(),a("div",ct,[l(e(m),{href:c.route("proyecto.cantidades.edit",{id:e(o).id}),class:"font-semibold text-gray-600 hover:text-green-900 dark:text-gray-400 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-4 mt-8 transition-colors duration-300 ease-in-out hover:border-b-2 border-transparent hover:border-green-900"},{default:u(()=>[h(" AÃ±adir gasto ")]),_:1},8,["href"]),l(e(m),{href:c.route("proyecto.usuarios.index",{id:e(o).id}),class:"font-semibold text-gray-600 hover:text-green-900 dark:text-gray-400 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-4 mt-8 transition-colors duration-300 ease-in-out hover:border-b-2 border-transparent hover:border-green-900"},{default:u(()=>[h(" Administrar Usuarios ")]),_:1},8,["href"]),l(e(m),{href:c.route("proyecto.edit",{id:e(o).id}),class:"font-semibold text-gray-600 hover:text-green-900 dark:text-gray-400 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-4 mt-8 transition-colors duration-300 ease-in-out hover:border-b-2 border-transparent hover:border-green-900"},{default:u(()=>[h(" Editar Proyecto ")]),_:1},8,["href"]),l(e(m),{href:c.route("proyecto.delete",{id:e(o).id}),method:"delete",as:"button",class:"inline-block bg-red-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-50 transition duration-300 ease-in-out m-4 mt-8"},{default:u(()=>[h(" Delete Proyecto ")]),_:1},8,["href"])])):C("",!0)]),t("div",null,[t("div",ut,[_t,t("ul",null,[t("li",null,s(e(o).user.name)+" - Administrador",1),(n(!0),a(i,null,_(e(o).usuarios,(r,d)=>(n(),a("li",{key:d},[h(s(r.user.name)+" - ",1),r.is_admin?(n(),a("span",ht," Administrador")):(n(),a("span",mt,"Usuario"))]))),128))])]),t("div",pt,[xt,t("ul",null,[(n(!0),a(i,null,_(e(b),(r,d)=>(n(),a("li",{key:d,class:"mb-4"},s(r.user.name)+" - "+s(r.valor)+" - "+s(new Date(r.created_at).toLocaleDateString()),1))),128))])])])])])])])]),_:1})],64)}}};export{kt as default};
