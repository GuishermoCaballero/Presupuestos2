import{_ as g}from"./AuthenticatedLayout-5f6c1f20.js";import{K as b,D as v,f as r,a as l,u as e,w as c,F as u,o as n,Z as w,b as t,t as o,j as _,i as m,d as h,g as k,n as C}from"./app-d1a900d5.js";import"./ApplicationLogo-fb6d295b.js";const F={class:"font-semibold text-xl text-gray-800 leading-tight"},D={class:"py-12"},A={class:"max-w-full mx-auto sm:px-6 lg:px-8"},G={class:"flex"},U={class:"bg-white shadow-md rounded-md p-8"},I={class:"text-2xl font-semibold mb-4"},S={class:"text-gray-600 mb-6"},V=["src"],$={class:"m-4 w-1/2"},N=t("h2",{class:"text-xl font-semibold mb-4"},"Gastos",-1),P={class:"m-4 w-1/2"},B=t("h2",{class:"text-xl font-semibold mb-4"},"Gastos por Usuario",-1),L={class:"m-4 mt-8 mb-8"},T=t("h2",{class:"text-xl font-semibold mb-4"},"Gastos por Usuario",-1),j={class:"overflow-x-auto"},E={class:"min-w-full border border-gray-200"},z=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"px-4 py-2"},"Factura Id"),t("th",{class:"px-4 py-2"},"Fecha"),t("th",{class:"px-4 py-2"},"Concepto"),t("th",{class:"px-4 py-2"},"Importe"),t("th",{class:"px-4 py-2"},"IVA"),t("th",{class:"px-4 py-2"},"Importe Final")])],-1),K={class:"px-4 py-2"},M={class:"px-4 py-2"},R={class:"px-4 py-2"},Z={class:"px-4 py-2"},q={class:"px-4 py-2"},H={class:"px-4 py-2"},J=t("br",null,null,-1),O={class:"label"},Q=t("br",null,null,-1),W=t("hr",null,null,-1),X=t("br",null,null,-1),Y={key:0,class:"m-8"},tt={class:"bg-white shadow-md rounded-md p-8 flex-1 mx-4 mb-4 overflow-auto max-h-50vh"},et=t("h2",{class:"text-xl font-semibold mb-4"},"Usuarios Asignados",-1),ot={key:0},st={key:1},at={class:"bg-white shadow-md rounded-md p-8 flex-1 mx-4 mb-4 overflow-auto max-h-50vh"},rt=t("h2",{class:"text-xl font-semibold mb-4"},"Movimientos",-1),ut={__name:"Show",setup(nt){const{proyecto:s,movimientos:f,usuario:x}=b().props;b().props;const y=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(i,dt)=>{const p=v("GoogleChart");return n(),r(u,null,[l(e(w),{title:"Dashboard"}),l(g,null,{header:c(()=>[t("h2",F,o(e(s).nombre),1)]),default:c(()=>[t("div",D,[t("div",A,[t("div",null,[t("div",G,[t("div",U,[t("h2",I,o(e(s).nombre),1),t("p",S,o(e(s).descripcion),1),t("img",{src:e(s).imagen_url,alt:"Imagen del proyecto",class:"w-full rounded-md h-60 object-cover mb-6"},null,8,V),t("div",$,[N,l(p,{data:e(s).chart,type:"PieChart"},null,8,["data"])]),t("div",P,[B,l(p,{data:e(s).user_chart,type:"ColumnChart"},null,8,["data"])]),t("div",L,[T,t("div",j,[t("table",E,[z,t("tbody",null,[(n(!0),r(u,null,_(e(s).gastos,(a,d)=>(n(),r("tr",{key:d,class:C(d%2===0?"bg-gray-50":"")},[t("td",K,o(a.id_factura),1),t("td",M,o(y(a.created_at)),1),t("td",R,o(a.nombre),1),t("td",Z,o(a.cantidad),1),t("td",q,o(a.anadir_iva),1),t("td",H,o(a.cantidad_iva),1)],2))),128))])])])]),t("div",null,"Presupuesto: "+o(e(s).presupuesto.toFixed(2))+" $",1),J,(n(!0),r(u,null,_(e(s).etiquetas,(a,d)=>(n(),r("div",{key:d,class:"row"},[t("div",O,o(a.etiqueta)+": "+o(a.cantidad.toFixed(2))+"$ - "+o((a.cantidad/e(s).presupuesto*100).toFixed(2))+"% ",1),Q,W]))),128)),X,t("div",null,"Total Gastado: "+o(e(s).gastado.toFixed(2))+" $",1),t("div",null,"Total Restante: "+o(e(s).restante.toFixed(2))+" $",1),e(x).is_admin?(n(),r("div",Y,[l(e(m),{href:i.route("proyecto.cantidades.edit",{id:e(s).id}),class:"font-semibold text-gray-600 hover:text-green-900 dark:text-gray-400 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-4 mt-8 transition-colors duration-300 ease-in-out hover:border-b-2 border-transparent hover:border-green-900"},{default:c(()=>[h(" AÃ±adir gasto ")]),_:1},8,["href"]),l(e(m),{href:i.route("proyecto.usuarios.index",{id:e(s).id}),class:"font-semibold text-gray-600 hover:text-green-900 dark:text-gray-400 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-4 mt-8 transition-colors duration-300 ease-in-out hover:border-b-2 border-transparent hover:border-green-900"},{default:c(()=>[h(" Administrar Usuarios ")]),_:1},8,["href"]),l(e(m),{href:i.route("proyecto.edit",{id:e(s).id}),class:"font-semibold text-gray-600 hover:text-green-900 dark:text-gray-400 focus:outline focus:outline-2 focus:rounded-sm focus:outline-red-500 m-4 mt-8 transition-colors duration-300 ease-in-out hover:border-b-2 border-transparent hover:border-green-900"},{default:c(()=>[h(" Editar Proyecto ")]),_:1},8,["href"]),l(e(m),{href:i.route("proyecto.delete",{id:e(s).id}),method:"delete",as:"button",class:"inline-block bg-red-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-50 transition duration-300 ease-in-out m-4 mt-8"},{default:c(()=>[h(" Delete Proyecto ")]),_:1},8,["href"])])):k("",!0)]),t("div",null,[t("div",tt,[et,t("ul",null,[t("li",null,o(e(s).user.name)+" - Administrador",1),(n(!0),r(u,null,_(e(s).usuarios,(a,d)=>(n(),r("li",{key:d},[h(o(a.user.name)+" - ",1),a.is_admin?(n(),r("span",ot," Administrador")):(n(),r("span",st,"Usuario"))]))),128))])]),t("div",at,[rt,t("ul",null,[(n(!0),r(u,null,_(e(f),(a,d)=>(n(),r("li",{key:d,class:"mb-4"},o(a.user.name)+" - "+o(a.valor)+" - "+o(new Date(a.created_at).toLocaleDateString()),1))),128))])])])])])])])]),_:1})],64)}}};export{ut as default};
